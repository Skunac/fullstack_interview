{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card_item = _resolveComponent(\"v-card-item\");\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_title = _resolveComponent(\"v-title\");\n  return _ctx.recipes.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.recipes, recipe => {\n    return _openBlock(), _createBlock(_component_v_card, {\n      class: \"my-3\",\n      key: recipe.id\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_container, {\n        class: \"py-4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(recipe.title), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_subtitle, null, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(recipe.ingredients), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_btn, {\n          icon: _ctx.getIcon(recipe.id),\n          onClick: $event => _ctx.toggleCard(recipe.id)\n        }, null, 8 /* PROPS */, [\"icon\", \"onClick\"]), _createVNode(_component_v_expand_transition, {\n          class: \"py-3\"\n        }, {\n          default: _withCtx(() => [_withDirectives(_createElementVNode(\"div\", null, [_createVNode(_component_v_divider), _createVNode(_component_v_card_item, null, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(recipe.description) + \" \", 1 /* TEXT */), _createVNode(_component_v_card_text, null, {\n              default: _withCtx(() => [_createElementVNode(\"div\", null, \" Prep time: \" + _toDisplayString(recipe.prep_time), 1 /* TEXT */), _createElementVNode(\"div\", null, \" Cook time: \" + _toDisplayString(recipe.cook_time), 1 /* TEXT */), _createElementVNode(\"div\", null, \" Total time: \" + _toDisplayString(recipe.total_time), 1 /* TEXT */), _createElementVNode(\"div\", null, \" Servings: \" + _toDisplayString(recipe.servings), 1 /* TEXT */), _createElementVNode(\"div\", null, \" Calories: \" + _toDisplayString(recipe.calories), 1 /* TEXT */)]),\n\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_btn, {\n              class: \"mx-4\",\n              size: \"large\",\n              variant: \"tonal\",\n              onClick: $event => _ctx.deleteRecipe(recipe.id)\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"Supprimer cette recette\")]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)], 512 /* NEED_PATCH */), [[_vShow, recipe.show]])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)]),\n\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_v_card, null, {\n    default: _withCtx(() => [_createVNode(_component_v_title, null, {\n      default: _withCtx(() => [_createTextVNode(\"Aucune recette n'est disponible\")]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })]));\n}","map":{"version":3,"names":["_ctx","recipes","length","_createElementBlock","_hoisted_1","_Fragment","_renderList","recipe","_createBlock","_component_v_card","class","key","id","_createVNode","_component_v_container","_component_v_card_title","title","_component_v_card_subtitle","ingredients","_component_v_btn","icon","getIcon","onClick","$event","toggleCard","_component_v_expand_transition","_createElementVNode","_component_v_divider","_component_v_card_item","description","_component_v_card_text","_toDisplayString","prep_time","cook_time","total_time","servings","calories","size","variant","deleteRecipe","show","_hoisted_2","_component_v_title"],"sources":["/home/antoine/Documents/Travail/fullstack_interview/frontend/src/components/RecipesCards.vue"],"sourcesContent":["<template>\n    <div v-if=\"recipes.length > 0\">\n        <v-card class=\"my-3\" v-for=\"recipe in recipes\" :key=\"recipe.id\">\n            <v-container class=\"py-4\">\n                <v-card-title>\n                    {{ recipe.title }}\n                </v-card-title>\n                <v-card-subtitle>\n                    {{ recipe.ingredients }}\n                </v-card-subtitle>\n                <v-btn :icon=\"getIcon(recipe.id)\" @click=\"toggleCard(recipe.id)\"></v-btn>\n                <v-expand-transition class=\"py-3\">\n                    <div v-show=\"recipe.show\">\n                        <v-divider></v-divider>\n                        <v-card-item>\n                            {{ recipe.description }}\n                            <v-card-text>\n                                <div>\n                                    Prep time: {{ recipe.prep_time }}\n                                </div>\n                                <div>\n                                    Cook time: {{ recipe.cook_time }}\n                                </div>\n                                <div>\n                                    Total time: {{ recipe.total_time }}\n                                </div>\n                                <div>\n                                    Servings: {{ recipe.servings }}\n                                </div>\n                                <div>\n                                    Calories: {{ recipe.calories }}\n                                </div>\n                            </v-card-text>\n                            <v-btn class=\"mx-4\" size=\"large\" variant=\"tonal\" @click=\"deleteRecipe(recipe.id)\">Supprimer cette recette</v-btn>\n                        </v-card-item>\n                    </div>\n                </v-expand-transition>\n            </v-container>\n        </v-card>\n    </div>\n    <div v-else>\n        <v-card>\n            <v-title>Aucune recette n'est disponible</v-title>\n        </v-card>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            show: false,\n            recipes: []\n        };\n    },\n    created() {\n        const instance = axios.create({\n            baseURL: 'http://localhost:8000'\n        });\n        instance.get('/recipies')\n        .then(response => {\n            this.recipes = response.data.Recipes; \n        })\n        .catch(error => {\n            console.error('Error fetching recipes:', error);\n        });\n    },\n    methods: {\n        deleteRecipe(id) {\n            const recipe = this.recipes.find(recipe => recipe.id === id);\n            if (recipe) {\n                const instance = axios.create({\n                baseURL: 'http://localhost:8000'\n                });\n                instance.delete(`/recipe/${recipe.id}`) \n                .then(response => {\n                    if (response.status == 204){\n                        this.recipes = \n                    }\n                })\n                .catch(error => {\n                    console.error('Error fetching recipes:', error);\n                });\n            }\n        },\n        toggleCard(id) {\n            const recipe = this.recipes.find(recipe => recipe.id === id);\n            if (recipe) {\n                recipe.show = !recipe.show;\n            }\n        },\n        getIcon(id) {\n            const recipe = this.recipes.find(recipe => recipe.id === id);\n            return recipe.show ? 'mdi-chevron-up' : 'mdi-chevron-down';\n        }\n    }\n};\n</script>"],"mappings":";;;;;;;;;;;;;;;;;;SACeA,IAAA,CAAAC,OAAO,CAACC,MAAM,Q,cAAzBC,mBAAA,CAsCM,OAAAC,UAAA,I,kBArCFD,mBAAA,CAoCSE,SAAA,QAAAC,WAAA,CApC6BN,IAAA,CAAAC,OAAO,EAAjBM,MAAM;yBAAlCC,YAAA,CAoCSC,iBAAA;MApCDC,KAAK,EAAC,MAAM;MAA4BC,GAAG,EAAEJ,MAAM,CAACK;;wBACxD,MAkCc,CAlCdC,YAAA,CAkCcC,sBAAA;QAlCDJ,KAAK,EAAC;MAAM;0BACrB,MAEe,CAFfG,YAAA,CAEeE,uBAAA;4BADX,MAAkB,C,kCAAfR,MAAM,CAACS,KAAK,iB;;;sCAEnBH,YAAA,CAEkBI,0BAAA;4BADd,MAAwB,C,kCAArBV,MAAM,CAACW,WAAW,iB;;;sCAEzBL,YAAA,CAAyEM,gBAAA;UAAjEC,IAAI,EAAEpB,IAAA,CAAAqB,OAAO,CAACd,MAAM,CAACK,EAAE;UAAIU,OAAK,EAAAC,MAAA,IAAEvB,IAAA,CAAAwB,UAAU,CAACjB,MAAM,CAACK,EAAE;sDAC9DC,YAAA,CAyBsBY,8BAAA;UAzBDf,KAAK,EAAC;QAAM;4BAC7B,MAuBM,C,gBAvBNgB,mBAAA,CAuBM,cAtBFb,YAAA,CAAuBc,oBAAA,GACvBd,YAAA,CAoBce,sBAAA;8BAnBV,MAAwB,C,kCAArBrB,MAAM,CAACsB,WAAW,IAAG,GACxB,iBAAAhB,YAAA,CAgBciB,sBAAA;gCAfV,MAEM,CAFNJ,mBAAA,CAEM,aAFD,cACU,GAAAK,gBAAA,CAAGxB,MAAM,CAACyB,SAAS,kBAElCN,mBAAA,CAEM,aAFD,cACU,GAAAK,gBAAA,CAAGxB,MAAM,CAAC0B,SAAS,kBAElCP,mBAAA,CAEM,aAFD,eACW,GAAAK,gBAAA,CAAGxB,MAAM,CAAC2B,UAAU,kBAEpCR,mBAAA,CAEM,aAFD,aACS,GAAAK,gBAAA,CAAGxB,MAAM,CAAC4B,QAAQ,kBAEhCT,mBAAA,CAEM,aAFD,aACS,GAAAK,gBAAA,CAAGxB,MAAM,CAAC6B,QAAQ,iB;;;0CAGpCvB,YAAA,CAAiHM,gBAAA;cAA1GT,KAAK,EAAC,MAAM;cAAC2B,IAAI,EAAC,OAAO;cAACC,OAAO,EAAC,OAAO;cAAEhB,OAAK,EAAAC,MAAA,IAAEvB,IAAA,CAAAuC,YAAY,CAAChC,MAAM,CAACK,EAAE;;gCAAG,MAAuB,C,iBAAvB,yBAAuB,E;;;;0EArBpGL,MAAM,CAACiC,IAAI,E;;;;;;;;;qDA4BxCrC,mBAAA,CAIM,OAAAsC,UAAA,GAHF5B,YAAA,CAESJ,iBAAA;sBADL,MAAkD,CAAlDI,YAAA,CAAkD6B,kBAAA;wBAAzC,MAA+B,C,iBAA/B,iCAA+B,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}